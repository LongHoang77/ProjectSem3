"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1727],{67066:function(e,t,a){var s=a(85893),r=a(85463),n=a.n(r),l=a(29170),i=a(23052),o=a(99501),c=a(19752),d=a(7647),x=a(78561),m=a(67294),h=a(48583),u=a(12396);function removeAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D")}t.Z=(0,m.memo)(e=>{let{data:t}=e,[a,r]=(0,h.KO)(u.P),g=a.isNearby,[b,p]=(0,m.useState)(!1),[f,j]=(0,m.useState)(!1),[v,w]=(0,m.useState)(null),[N,k]=(0,m.useState)(null),[y,I]=(0,m.useState)(""),[L,C]=(0,m.useState)(t||[]),close=()=>{p(!1)};(0,m.useEffect)(()=>{let e=localStorage.getItem("rememberCityID"),t=localStorage.getItem("rememberIsNearBy"),a=JSON.parse(localStorage.getItem("rememberGeo"));"true"==t&&a&&r(e=>({...e,isNearby:!0,geo:{lat:a.lat,lng:a.lng}})),e||(localStorage.setItem("rememberCityID",50),e=50),w(e),r(t=>({...t,cityId:e||null}))},[]),(0,m.useEffect)(()=>{let e=(null==L?void 0:L.filter(e=>e.Id==v))||[];e.length>0&&k(e[0].Name)},[v]);let handleSelectLocation=e=>{w(e),localStorage.setItem("rememberCityID",null!=e?e:50),localStorage.setItem("rememberIsNearBy",!1),r(t=>({...t,isNearby:!1,cityId:e||null})),p(!1)},handleSearchCity=e=>{if(I(e),""==e)C(t||[]);else{let a=t.filter((t,a)=>removeAccents(t.Name.toLowerCase()).includes(removeAccents(e.toLowerCase())))||[];C(a)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-ef3e391d68e5bac flex items-center space-x-3",children:[(0,s.jsxs)("div",{onClick:()=>p(!0),className:"jsx-ef3e391d68e5bac "+"relative flex h-9  w-40 flex-none cursor-pointer flex-nowrap items-center rounded border pl-7 pr-4 text-sm font-semibold hover:bg-gray-50 md:w-40 ".concat(g?"cursor-pointer border-gray-300 text-gray-600 hover:bg-gray-50":"border-pink-600 text-pink-600"),children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-ef3e391d68e5bac absolute left-2 top-1 mt-1 h-4 w-4",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",className:"jsx-ef3e391d68e5bac"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-ef3e391d68e5bac"})]})," ",(0,s.jsx)("span",{className:"jsx-ef3e391d68e5bac block min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:N}),(0,s.jsx)("div",{className:"jsx-ef3e391d68e5bac absolute right-3 md:block",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-ef3e391d68e5bac h-4 w-4 opacity-50",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7",className:"jsx-ef3e391d68e5bac"})})})]}),(0,s.jsx)("div",{className:"jsx-ef3e391d68e5bac flex-none",children:(0,s.jsxs)("div",{onClick:()=>!f&&void(j(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{r(t=>({...t,isNearby:!0,geo:{lat:e.coords.latitude,lng:e.coords.longitude}})),localStorage.setItem("rememberIsNearBy",!0),localStorage.setItem("rememberGeo",JSON.stringify({lat:e.coords.latitude,lng:e.coords.longitude})),x.Z.get("/city/nearby?lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude,"&lastIndex=0&count=1&sortType=1&sortDir=1")).then(function(e){var t,a,s;let n=null!==(t=e.Data)&&void 0!==t?t:null;w(null!==(a=null==n?void 0:n.Items[0].Id)&&void 0!==a?a:50),localStorage.setItem("rememberCityID",null!==(s=null==n?void 0:n.Items[0].Id)&&void 0!==s?s:50),r(e=>{var t;return{...e,cityId:null!==(t=null==n?void 0:n.Items[0].Id)&&void 0!==t?t:50}})}),setTimeout(function(){j(!1)},500)},e=>{(0,l.Z)("Bạn cần cho ph\xe9p website sử dụng th\xf4ng tin vị tr\xed để sử dụng t\xednh năng n\xe0y"),setTimeout(function(){j(!1)},500)},{enableHighAccuracy:!1,timeout:5e3,maximumAge:36e5}):console.log("Geolocation is not supported by your browser")),className:"jsx-ef3e391d68e5bac "+"relative flex h-9 w-28 flex-nowrap  items-center  rounded  border pl-7 text-sm font-semibold  ".concat(g?"cursor-pointer border-pink-600 text-pink-600":"cursor-pointer border-gray-300 text-gray-800 hover:bg-gray-50"),children:[f?(0,s.jsx)("div",{className:"jsx-ef3e391d68e5bac loader absolute left-2 top-1 mt-1 animate-spin"}):(0,s.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor",tabIndex:-1,title:"MyLocation","data-ga-event-category":"material-icons","data-ga-event-action":"click","data-ga-event-label":"MyLocation",className:"jsx-ef3e391d68e5bac absolute left-2 top-1 mt-1 h-4 w-4",children:(0,s.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z",className:"jsx-ef3e391d68e5bac"})}),"Gần bạn"]})})]}),b&&(0,s.jsxs)(i.Z,{isOpen:b,onDismiss:close,isFull:!0,children:[(0,s.jsx)(d.Z,{isBorder:!1,children:" \xa0 "}),(0,s.jsx)(o.Z,{className:"rounded bg-white p-0",children:(0,s.jsxs)("div",{className:"jsx-ef3e391d68e5bac px-4 md:px-10",children:[(0,s.jsxs)("div",{className:"jsx-ef3e391d68e5bac mb-6 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"jsx-ef3e391d68e5bac mr-5 whitespace-nowrap text-xl font-bold text-gray-700",children:"Chọn địa điểm"}),(0,s.jsxs)("div",{className:"jsx-ef3e391d68e5bac relative ",children:[(0,s.jsx)("input",{type:"text",value:y,onChange:e=>handleSearchCity(e.target.value),placeholder:"T\xecm địa điểm ...",className:"jsx-ef3e391d68e5bac block h-9 w-full items-center justify-center rounded border border-gray-300 bg-white px-3 py-1"}),(0,s.jsx)("button",{type:"submit","aria-label":"Search",className:"jsx-ef3e391d68e5bac absolute right-2 top-2 border-none opacity-50 outline-none",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-ef3e391d68e5bac h-5 w-5 ",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",className:"jsx-ef3e391d68e5bac"})})})]})]}),(0,s.jsx)("div",{className:"jsx-ef3e391d68e5bac my-3 grid grid-cols-2 gap-1 md:my-5 md:grid-cols-4 md:gap-3 ",children:L.map((e,t)=>(0,s.jsx)("div",{onClick:()=>handleSelectLocation(e.Id),className:"jsx-ef3e391d68e5bac "+"text-md  cursor-pointer whitespace-nowrap rounded-md border px-3 py-2 ".concat(e.Id==v?" border-pink-700 font-semibold text-pink-700":"border-transparent text-gray-700 hover:bg-gray-100","\n                      "),children:e.Name},e.Id))})]})}),(0,s.jsx)(c.Z,{children:(0,s.jsx)("button",{type:"button",onClick:close,className:"jsx-ef3e391d68e5bac btn inline-block rounded-md bg-pink-700 px-4 py-2 text-center text-sm font-bold text-white text-opacity-90 transition-all hover:bg-pink-800",children:"Đ\xf3ng"})})]}),(0,s.jsx)(n(),{id:"ef3e391d68e5bac",children:".loader.jsx-ef3e391d68e5bac{border:2px solid var(--gray-300);border-top:2px solid var(--pinkmomo);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:15px;height:15px}"})]})})},38426:function(e,t,a){var s=a(85893),r=a(85463),n=a.n(r),l=a(12396),i=a(89755),o=a.n(i),c=a(11163),d=a(67294),x=a(44040),m=a(30719),h=a(48583);t.Z=e=>{let{data:t,allCineplexs:a=null,theaterSelect:r}=e,i=null;i=a?null==t?void 0:t.reduce((e,t)=>{let s=a.find(e=>e.Id===t.Id),r={...t,...s};return[...e,r]},[]):t;let{asPath:u}=(0,c.useRouter)(),g=(0,h.b9)(l.P),[b,p]=(0,d.useState)(null),[f,j]=(0,d.useState)(0),[v,w]=(0,d.useState)(0);(0,d.useEffect)(()=>function(){g(e=>({...e,rapBrand:null})),j(0),w(0)},[u]),(0,d.useEffect)(()=>{b&&b.slideTo(v-1)},[v]);let handleSelectRap=(e,t)=>{g(t=>({...t,rapBrand:e||null})),j(e),w(t)};return(0,d.useEffect)(()=>{if(r){let e=i.map((e,t)=>({...e,order:t})).find(e=>r.includes(e.UrlRewrite));e&&handleSelectRap(null==e?void 0:e.Id,(null==e?void 0:e.order)||0)}},[r,u]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(m.tq,{spaceBetween:2,slidesPerView:"auto",onSwiper:p,className:"px-5 lg:px-3",modules:[x.W_],navigation:{nextEl:".button-next",prevEl:".button-prev"},children:[(0,s.jsx)(m.o5,{className:"".concat(0==f?"is-active pointer-events-none":""," w-16"),children:(0,s.jsxs)("div",{onClick:()=>handleSelectRap(0,0),className:"jsx-946ac3e01ac3c487 "+"cursor-pointer ".concat(0==f?"is-active ":"","  "),children:[(0,s.jsx)("div",{className:"jsx-946ac3e01ac3c487 "+"relative mx-auto flex h-12 w-12 items-start justify-center rounded-lg border bg-white p-1 text-pink-500 ".concat(0==f?"border-pink-500 ":"border-gray-200"),children:(0,s.jsx)(o(),{src:"https://homepage.momocdn.net/next-js/_next/static/public/cinema/dexuat-icon.svg",alt:"Đề xuất",layout:"intrinsic",width:38,height:38})}),(0,s.jsx)("div",{className:"jsx-946ac3e01ac3c487 "+"mt-2  overflow-hidden text-ellipsis whitespace-nowrap text-center text-xs ".concat(0==f?"font-semibold text-pink-500 ":"text-gray-500"),children:"Tất cả"})]})}),(null==i?void 0:i.length)>0&&i.map((e,t)=>{var a,r,n;return(0,s.jsx)(m.o5,{className:"".concat(e.Id==f?"is-active pointer-events-none":""," w-16"),children:(0,s.jsxs)("div",{onClick:()=>handleSelectRap(e.Id,t),className:"jsx-946ac3e01ac3c487 "+"relative cursor-pointer ".concat(e.Id==f?"is-active":"","  "),children:[(0,s.jsxs)("div",{className:"jsx-946ac3e01ac3c487 "+"relative mx-auto flex h-12 w-12 items-center justify-center overflow-hidden rounded-lg border bg-white ".concat(e.Id==f?"border-pink-500 ":"border-gray-200"),children:[(null==e?void 0:null===(a=e.JsonPresent)||void 0===a?void 0:a.DiscountImg)&&!(null==e?void 0:null===(r=e.JsonPresent)||void 0===r?void 0:r.OffPromotion)&&(0,s.jsx)("img",{alt:"",src:null==e?void 0:null===(n=e.JsonPresent)||void 0===n?void 0:n.DiscountImg,className:"jsx-946ac3e01ac3c487 absolute right-0 top-0 z-[1] w-9"}),(0,s.jsx)(o(),{src:e.Logo,alt:e.Name,layout:"intrinsic",width:38,height:38})]}),(0,s.jsx)("div",{className:"jsx-946ac3e01ac3c487 "+"ml-1 mt-2 overflow-hidden text-ellipsis whitespace-nowrap text-center text-xs ".concat(e.Id==f?"font-semibold text-pink-500 ":"text-gray-500"),children:e.Name})]},e.Id)},e.Id)}),(0,s.jsx)("div",{className:"jsx-946ac3e01ac3c487 button-next button-swiper absolute right-0 top-0 z-10 flex h-full w-12 cursor-pointer items-center justify-end pr-1 text-gray-500 ",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-946ac3e01ac3c487 h-6 w-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",className:"jsx-946ac3e01ac3c487"})})}),(0,s.jsx)("div",{className:"jsx-946ac3e01ac3c487 button-prev button-swiper absolute left-0 top-0 z-10 flex h-full w-12 cursor-pointer items-center pl-1 text-gray-500 ",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-946ac3e01ac3c487 h-6 w-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",className:"jsx-946ac3e01ac3c487"})})})]}),(0,s.jsx)(n(),{id:"946ac3e01ac3c487",children:".button-next.jsx-946ac3e01ac3c487{background:-webkit-linear-gradient(left,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%);background:-moz-linear-gradient(left,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%);background:-o-linear-gradient(left,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%);background:linear-gradient(90deg,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%)}.button-prev.jsx-946ac3e01ac3c487{background:-webkit-linear-gradient(right,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%);background:-moz-linear-gradient(right,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%);background:-o-linear-gradient(right,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%);background:linear-gradient(-90deg,rgba(255,255,255,0)0,rgba(255,255,255,.9)30%,rgba(255,255,255,1)50%,#fff 100%)}.button-swiper.swiper-button-disabled.jsx-946ac3e01ac3c487{display:none}"})]})}},23551:function(e,t,a){var s=a(85893),r=a(89755),n=a.n(r),l=a(25284);let RapRowAvatar=e=>{let{Logo:t,Name:a,Url:r=!1}=e;return(0,s.jsx)("div",{className:"flex h-9 w-9 flex-none items-center justify-center overflow-hidden rounded border border-gray-200 bg-white ",children:r?(0,s.jsx)("a",{href:r,className:"flex",children:(0,s.jsx)(n(),{src:t,alt:a,layout:"intrinsic",width:32,height:32})}):(0,s.jsx)(n(),{src:t,alt:a,layout:"intrinsic",width:32,height:32})})};t.Z=e=>{let{data:t,type:a=null,onClick:r=null}=e;return 4===a?(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)("div",{className:"z-1 absolute inset-0 bg-transparent",onClick:r}),(0,s.jsxs)("div",{className:"rap-detail flex w-full flex-nowrap  items-center",children:[(0,s.jsx)("div",{className:"hidden flex-none md:block",children:(0,s.jsx)(RapRowAvatar,{Logo:t.Logo,Name:t.Name,Url:t.Link})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1 md:pl-3",children:[(0,s.jsx)("div",{className:"mb-0 text-md font-semibold leading-tight text-gray-800",children:t.Link&&3!=a?(0,s.jsxs)("a",{href:t.Link,className:"text-gray-800 hover:text-pink-500 ",alt:t.Name,children:["Lịch chiếu phim ",t.Name]}):(0,s.jsx)("span",{children:t.Name})}),t.Address&&(0,s.jsxs)("div",{className:"flex flex-nowrap items-center text-tiny text-gray-500",children:[(0,s.jsx)("div",{className:"truncate",children:t.Address}),(0,s.jsx)("div",{className:"pl-2 ".concat(3==a&&"hidden md:block"),children:(0,s.jsx)(l.Z,{lat:t.Lat,lon:t.Lon,address:t.Address,name:t.Name,children:"[ Bản đồ ]"})})]})]})]})]}):3===a?(0,s.jsxs)("div",{className:"fwefwe relative block   px-4 py-2",children:[r&&(0,s.jsx)("div",{className:"z-1 absolute inset-0 bg-transparent",onClick:r}),(0,s.jsxs)("div",{className:"rap-detail flex flex-nowrap items-center ",children:[(0,s.jsx)(RapRowAvatar,{Logo:t.Logo,Name:t.Name}),(0,s.jsx)("div",{className:"mb-0 min-w-0 flex-1 pl-3 text-md leading-tight text-gray-800",children:(0,s.jsx)("span",{children:t.Name})}),(0,s.jsx)("div",{className:"hidden flex-none self-center pl-2 md:block md:pl-5 ",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}):(0,s.jsxs)("div",{className:"".concat(""," ").concat(1==a?"relative block px-4   py-3":""," ").concat(3==a?"relative block px-4   py-3":""),children:[r&&(0,s.jsx)("div",{className:"z-1 absolute inset-0 bg-transparent",onClick:r}),(0,s.jsxs)("div",{className:"rap-detail flex flex-nowrap items-center ",children:[(0,s.jsx)("div",{className:"flex-none ",children:(0,s.jsx)(RapRowAvatar,{Logo:t.Logo,Name:t.Name,Url:t.Link})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1 pl-4",children:[(0,s.jsx)("div",{className:"mb-0 text-md font-semibold leading-tight text-gray-800",children:t.Link&&3!=a?(0,s.jsx)("a",{href:t.Link,className:"text-gray-800 hover:text-pink-500 ",alt:t.Name,children:t.Name}):(0,s.jsx)("span",{children:t.Name})}),t.Address&&(0,s.jsxs)("div",{className:"flex flex-nowrap items-center text-tiny text-gray-500",children:[(0,s.jsx)("div",{className:"truncate",children:t.Address}),(0,s.jsx)("div",{className:"pl-2 ".concat(3==a&&"hidden md:block"),children:(0,s.jsx)(l.Z,{lat:t.Lat,lon:t.Lon,address:t.Address,name:t.Name,children:"[ Bản đồ ]"})})]})]}),(0,s.jsx)("div",{className:"hidden flex-none self-center pl-2 md:block md:pl-5 ",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}}}]);